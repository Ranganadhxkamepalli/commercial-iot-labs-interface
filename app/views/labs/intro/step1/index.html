<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Intel® Commercial IoT Workshop</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../../../css/main.css">
    </head>
    <body>
        <header>
            <a href="../../../index.html"><img src="../../../img/intel_logo.png" alt="Intel® logo" width="52" height="35"></a>
        </header>
        <div class="content">

            <!-- Login to the Intel IoT Gateway -->
            <section>
                <h1>Step 1: Login to your Intel® Iot Gateway</h1>

                <p class="subtitle">Instructions for the Intel® IoT Gateway using Windows</p>

                <div class="tldr">
                Establish an SSH connection to your Intel® IoT Gateway using <span class="icon windows">PuTTY</span> installed on your development computer.
                </div>

                <ol>
                <li>
                <p>Check the side of your Intel® Iot Gateway. The Gateway’s network SSID should be labelled on the side. The network SSID will look something like "<strong>IDPDK-22a6</strong>".</p>
                    </li>

                <li>
                <p>From your development computer, connect to the SSID labelled on your Gateway.</p>
	                <p><b>The password to your gateway is "windriveridp"</b></p>
                <p><img src="image_0.png"></p>
                    </li>

                <li>
                <p>Double-click <span class="icon file">putty.exe</span> on your computer to launch <span class="icon windows">PuTTY</span>.</p><p>The IP address of the Intel Iot Gateway is <code>192.168.1.1</code>.</p>
                <p><img src="image_3.png"></p>
                    </li>

                <li>
                <p>You can login with the username "root" and the password “root.”</p>
                    </li>

                </ol>

                <div id="next-steps" class="callout done">
                <p>You should now be logged into the Intel® IoT Gateway.</p>
                <p><a href="../step2/index.html" class="link-button centered">Continue to the next step »</a></p>
                </div>
            </section>

            <!-- Quick tutorial on Screen command -->
            <section>
                <h2>Setup Screen Window Manager</h2>
                <p>The <b>screen</b> program is a terminal based window manager that will be very helpful when you begin working with multiple terminal windows. Here is a quick primer to get you started.</p>
                <p>Once you log in the Intel® Iot Gateway, start the <code>screen</code> window manager. </p>
                <p><code>$ screen</code></p>

                <p>You can open multiple console windows, name them and switch between them using screen.  There will be many times when you will want to run several processes at the same time and <code>screen</code> will be very useful to launch them in separate windows.  The another alternative is to simply SSH into the server multiple times.  Of course, in production you will want to launch most processes at boot time using Systemd.</p>
                <ul>
                <p>To create a new console type <code>Ctrl-A C</code></p>
                <p>To name the console type <code>Ctrl-A Shift-A</code></p>
                <p>To get a list of all consoles type <code>Ctrl-A &quot;</code></p>
                </ul>
            </section>

            <!-- Launch the Mosquitto Broker -->>
            <section>
                <h2>Launch the Mosquitto MQTT Broker</h2>
                <p>Mosquitto may already be running on the Intel IoT Gateway. However, if you need to start the process again simply type.</p>

                <p><code>$ mosquitto</code></p>

                <p>A traditional IoT architecture has one or more sensors, actuators and controllers. These communicate to an edge gateway. The edge gateway talks across the wide area network, often the internet, to the cloud or enterprise or server. Mosquitto is an <a href="http://mqtt.org/">MQTT</a> broker that will enable sensor data to be transferred from sensors to the gateway.  It's a commonly used protocol in the Internet of Things because it is a publish/subscribe protocol rather than a client/server protocol.  Many applications can subscribe to the same event and the MQTT server will deliver the event to all interested applications. </p>

            </section>

            <!-- Enable MongoDB and NodeJS -->>
            <section>
                <h2>Set Permissions for MongoDB and NodeJS</h2>

                <ol>

                    <li>
                        <p>The Intel Iot Gateway is enabled with <strong>grsecurity</strong> which by default prevents the execution of processes that are not added to a white list.</p>
                        <p>Add the MongoDB daemon (<code>mongod</code>)and the Mongo Client (<code>mongo</code>) to the whitelist type:</p>
                        <pre><code>$ paxctl -Cm /usr/bin/mongod</code></pre>
                        <pre><code>$ paxctl -Cm /usr/bin/mongo</code></pre>
                        <pre><code>$ paxctl -Cm /usr/bin/node</code></pre>
                    </li>

                    <li>
                        <p>Start the MongoDB daemon using the <code>mongod</code> command:</p>
                        <pre><code>$ mongod</code></pre>
                    </li>

                </ol>
            </section>

        </div><!-- end .content -->
    </body>
</html>
